<html>
<head>
    <meta charset="utf-8"/>
    <style>
.properties {
    border-collapse:collapse;
}
.properties td, .properties th {
    border:1px solid black;
}
p {
clear:both;
}
p add {
    color:green;
}
p rem {
    color:red;
    text-decoration:line-through;
}
.code {
    white-space:pre;
    font-family:monospace;
}
    </style>
</head>
<body>
<div class="lab_nav">
	Другие темы:
	<ol>
		<li>1. <a href="MTP1.html">Настройка внешнего вида Windows Forms</a></li>
		<li>2. <a href="MTP2.html">Обработка событий</a></li>
		<li>5. <a href="MTP3.html">Объектная модель</a></li>
		<li>6. <a href="MTP4.html">Подключение к БД</a></li>
		<li>7. <a href="MTP5.html">Архитектура приложения</a></li>
		<li>8. <a href="MTP6.html">Использование транзакций</a></li>
		<li>9. <a href="MTP7.html">Дополнительные задачи</a></li>
	</ol>
</div>
<h2>Дополнительные задачи</h2>

<p>Миграция БД - это скрипт, изменяющий схему БД, без потери содержащихся в ней данных.</p>


<h4>Переименовать "клиенты" в "организации"</h4>
<p>Переименовать таблицу "clients" в "organizations"</p>
<p>Во всех таблицах поля clientid заменить на orgid</p>


<h4>Выделить сущность "поставки"</h4>
<p>Создать таблицу "поставки" - "deliveries" с полями (deliveryid, date, productid, quantity, orgid)</p>
<p>Для каждого товара создать поставку с количеством товара, указанное в products.quantity.</p>
<p>Удалить поле products.quantity</p>
<p>Удалить количество товара из справочника товаров</p>


<h4>Проверять наличие товара</h4>
<p>Реализовать правило "Заказ нельзя оформить, если количество запрашиваемого товара больше, чем в наличии".</p>


<h4>Сделать "начальника" свойством сотрудника</h4>
<p>Добавить сотруднику поле "managerid" и наполнить их значениями "managerid" из должности данного сотрудника.</p>
<p>Удалить поле "managerid" из таблицы должностей</p>
<p>Удалить бизнес-процесс назначения начальника должности</p>


<h4>Реализовать бизнес-процесс назначения начальника</h4>
<p>Добавляется бизнес-процесс "изменение начальника для сотрудника". Нельзя назначать начальником временно трудоустроенных. Нельзя назначать начальника для сотрудника с должностью 'CHIEF'. Должность начальника должна отличаться от должности сотрудника.</p>


<h4>Заменить статус заказа значениями из справочников</h4>
<p>Создать вспомогательную таблицу с внешним ключом на поле таблицы заказов.</p>
<p>Заказ может быть в одном из следующих статусов:</p>
<ul>
	<li>CREATED - Создан</li>
	<li>PAID - Оплачен</li>
	<li>PACKAGED - Упакован</li>
	<li>SHIPPED - Отгружен</li>
	<li>CLOSED - Завершен</li>
	<li>CANCELLED - Отменен</li>
</ul>
<p>Заказы с true в поле finished получают статус CLOSED. Если у заказа в finished значение false и он назначен на агента, то статус CREATED. Если у заказа в finished значение false и он назначен на курьера, то статус PACKAGED.</p>


<h4>Реализовать связь 1 заказ = множество товаров</h4>
<p>С помощью вспомогательной таблицы</p>


<h4>Создать таблицу "история заказа"</h4>
<p>При каждом изменении статуса заказа создавать запись (предыдущий ответственный, предыдущий статус, новый ответственный, новый статус)</p>
</body>
</html>